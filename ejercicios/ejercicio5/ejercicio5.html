<!--
Realizar una aplicación Web que pida un texto y muestre el texto original y el mismo 
texto cifrado desplazando todos los caracteres una misma cantidad obtenida 
aleatoriamente. Hay que tener en cuenta que detrás de la Z vendría de nuevo la A.
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
  <title>Document</title>
</head>

<body>

  <div id="formLogin" class="container bg-light my-5 py-4" style="width: 30%">
    <form action="">
      <label for="texto" class="form-label">Texto a cifrar:</label>
      <input type="text" name="texto" id="text" class="form-control" placeholder="Texto" /><br />
      <button type="submit" class="btn btn-dark" id="frase">Cifrar</button>
      <a href="../../index.html" class="btn btn-warning"> Volver</a>
    </form>
    <br />
    <p id="fraseTransdormada" class="text-info"></p>
  </div>

  <script>
    fraseTransdormada = document.getElementById("fraseTransdormada");
    arrayAbc = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "ñ", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];

    document.getElementById("frase").addEventListener("click", function (e) {
      e.preventDefault();
      frase = document.getElementById("text").value;
      numAlt = Math.round(Math.random() * 26);
      fraseEncriptada = new Array(frase.length);

      for (let i = 0; i < frase.length; i++) {
        for (let j = 0; j < arrayAbc.length; j++) {
          if (frase[i] == arrayAbc[j]) {
            movimiento = j;
            movimiento += numAlt;
            if (movimiento >= arrayAbc.length) {
              movimiento -= arrayAbc.length;
              fraseEncriptada[i] = arrayAbc[movimiento];
            } else {
              fraseEncriptada[i] = arrayAbc[movimiento];
            }
          }
        }
      }

      fraseTransdormada.innerText = `Frase encriptada: ${fraseEncriptada}`;
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>
</body>

</html>